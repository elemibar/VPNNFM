@model Client.Models.ViewModelVPN
@using Dominio.EntidadesNegocio;

@{
    ViewData["Title"] = "Index";
}

<h1>VPNs</h1>

<p>
    <a asp-action="Create">Agregar VPN</a>
</p>


<!-- ////////////////////////////////////////////////////// -->

<div class="row">
    <div class="col-md">
        <form class="form-row" enctype="multipart/form-data" asp-action="Index">

            <div class="form-group col-md-2">
                <label class="col-sm-2" for="txtIp">
                    <span class="h6 small bg-white text-muted pt-1 pl-2 pr-2">IP</span>
                </label>
                <input class="form-control mt-n3" id="txtIp" type="text" name="IP" placeholder="IP"/>
            </div>

            <div class="form-group col-md-2">
                <label class="col-sm-2" for="nombre">
                    <span class="h6 small bg-white text-muted pt-1 pl-2 pr-2">Nombre</span>
                </label>
                <input class="form-control mt-n3" id="nombre" type="text" name="VPN.nombre" placeholder="Nombre"/>
            </div>

            <div class="form-group col-md-2">
                <label class="col-sm-2" for="dateAlta">
                    <span class="h6 small bg-white text-muted pt-1 pl-2 pr-2">Fecha_Alta</span>
                </label>
                <input class="form-control mt-n3" id="dateAlta" type="date" name="VPN.Alta" placeholder="Fecha"/>
            </div>

            <div class="form-group col-md-2">
                <label class="col-sm-2" for="dateBaja">
                    <span class="h6 small bg-white text-muted pt-1 pl-2 pr-2">Fecha_Baja</span>
                </label>
                <input class="form-control mt-n3" id="dateBaja" type="date" name="VPN.Baja" placeholder="Fecha"/>
            </div>

            <div class="form-group col-md-2">
                <label for="Tipo" class="col-sm-2">
                    <span class="h6 small bg-white text-muted pt-1 pl-2 pr-2">Tipo</span>
                </label>
                                   
                    <select class="form-control mt-n3" disabled name="Tipo">
                        @foreach (VPN.EnumTipo tip in Enum.GetValues(typeof(VPN.EnumTipo)))
                        {
                            @if(tip.GetHashCode() == 1)
                            {
                                <option value="@tip" selected>@tip</option>
                            }
                            else
                            {
                                <option value="@tip">@tip</option>
                            }
                        }
                    </select>
                
            </div>

            <div class="form-group col-md-2">
                <input class="btn-outline-primary form-control mt-3" id="btn_buscar" type="submit" value="Buscar">
            </div>

        </form>
    </div>
</div>

<!-- ///////////////////////////////////////////// -->




    <table class="table">
        <thead>
            <tr>

                <th>
                    @Html.DisplayNameFor(model => model.VPN.Ip)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.VPN.Usuario)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.VPN.Nombre)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.VPN.Dependencia)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.VPN.Direccion)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.VPN.Gabinete)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.VPN.Alta)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.VPN.Baja)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.VPN.Tipo)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.VPNs)
        {
                <tr>

                    <td>
                    @item.Ip.ToString()
                    </td>
                    <td>
                    @Html.DisplayFor(modelItem => item.Usuario)
                    </td>
                    <td>
                    @Html.DisplayFor(modelItem => item.Nombre)
                    </td>
                    <td>
                    @Html.DisplayFor(modelItem => item.Dependencia)
                    </td>
                    <td>
                    @Html.DisplayFor(modelItem => item.Direccion)
                    </td>
                    <td>
                    @Html.DisplayFor(modelItem => item.Gabinete)
                    </td>
                    <td>
                    @item.Alta.ToString()
                    </td>
                    <td>
                    @item.Baja.ToString()
                    </td>
                    <td>
                    @Html.DisplayFor(modelItem => item.Tipo)
                    </td>
                    <td>
                    @Html.ActionLink("Actividad", "Index", "Actividad", new { ip=item.Ip, alta=item.Alta, baja=item.Baja })
                    </td>
                </tr>
        }
        </tbody>
    </table>


<p>@ViewBag.mensaje </p>
